woodmartThemeModule.$document.on("wdCloseMobileMenu",function(){woodmartThemeModule.closeMobileNavigation()}),woodmartThemeModule.mobileNavigation=function(){var t,e=document.querySelectorAll(".mobile-nav .wd-nav-mobile .menu-item-has-children"),o=document.querySelector(".mobile-nav"),n=document.querySelector(".wd-close-side"),i=document.querySelector(".mobile-nav .login-side-opener, .mobile-nav .close-side-widget"),v="";e.forEach(function(e){e.closest(".widget_nav_mega_menu")||((t=document.createElement("span")).classList.add("wd-nav-opener"),e.appendChild(t))}),o&&(0<o.querySelector("ul.wd-active").length&&(v=o.querySelector("ul.wd-active").style.height),o.addEventListener("click",function(e){var t,o,n=e.target.closest(".wd-nav"),i=n.classList.contains("wd-layout-dropdown"),l=n.classList.contains("wd-layout-drilldown"),n=n.classList.contains("wd-drilldown-slide"),a=e.target.closest(".wd-nav-mob-tab li"),d=e.target.closest(".menu-item-has-children > a"),s=e.target.closest(".menu-item-has-children > .wd-nav-opener"),r="arrow";if(this.classList.contains("wd-opener-item")&&(r="item"),a){if(e.preventDefault(),a.classList.contains("wd-active"))return;var c=a.dataset.menu,u=a.parentNode.querySelector(".wd-active");u&&u.classList.remove("wd-active"),a.classList.add("wd-active"),document.querySelectorAll(".wd-nav-mobile").forEach(function(e){e.classList.remove("wd-active")}),void 0!==c&&document.querySelectorAll(`.mobile-${c}-menu`).forEach(function(e){e.classList.add("wd-active")}),woodmartThemeModule.$document.trigger("wood-images-loaded")}if(i)("item"===r&&(d||s)||"arrow"===r&&s)&&(e.preventDefault(),t=("item"===r&&d||s).parentNode,u=(o=Array.from(t.children)).find(function(e){return e.classList.contains("wd-nav-opener")}),a=o.filter(function(e){return"UL"===e.tagName||e.classList.contains("wd-sub-menu")}),t.classList.contains("opener-page")?(t.classList.remove("opener-page"),0!==a.length&&a.forEach(function(e){woodmartThemeModule.slideUp(e,200)}),[".wd-dropdown-menu .container > ul",".wd-dropdown-menu > ul"].forEach(function(e){e=t.querySelectorAll(e);0!==e.length&&e.forEach(function(e){woodmartThemeModule.slideUp(e,200)})}),void 0!==u&&u.classList.remove("wd-active")):(t.classList.add("opener-page"),0!==a.length&&a.forEach(function(e){woodmartThemeModule.slideDown(e,200)}),[".wd-dropdown-menu .container > ul",".wd-dropdown-menu > ul"].forEach(function(e){e=t.querySelectorAll(e);0!==e.length&&e.forEach(function(e){woodmartThemeModule.slideDown(e,200)})}),void 0!==u&&u.classList.add("wd-active")),woodmartThemeModule.$document.trigger("wood-images-loaded"));else if(l){var m,w,c=e.target.closest(".menu-item-has-children .wd-drilldown-back a"),i=e.target.closest(".menu-item-has-children .wd-drilldown-back .wd-nav-opener");if(("item"===r&&(d||s)||"arrow"===r&&s)&&(m=(t=("item"===r&&d||s).parentNode).closest("ul"),void 0!==(w=(o=Array.from(t.children)).find(function(e){return e.classList.contains("wd-sub-menu")||e.classList.contains("sub-sub-menu")})))){e.preventDefault(),t.setAttribute("aria-expanded",!0),m.classList.add("wd-drilldown-hide"),m.classList.remove("wd-drilldown-show"),w.classList.add("wd-drilldown-show"),w.setAttribute("aria-expanded",!1);a=w.querySelector(".wd-drilldown-back a"),u=a.textContent;if(u=(u=u.replaceAll("\t","")).replaceAll("\n",""),t.classList.contains("item-level-0")){l=document.querySelector(".wd-nav-mob-tab li.wd-active .nav-link-text");null!==l?(r=(r=(r=l.textContent).replaceAll("\t","")).replaceAll("\n",""),!u.includes(r)&&0<r.length&&(a.textContent=woodmart_settings.mobile_navigation_drilldown_back_to.replace("%s",r))):u.includes(woodmart_settings.mobile_navigation_drilldown_back_to_main_menu)||(a.textContent=woodmart_settings.mobile_navigation_drilldown_back_to_main_menu)}else{let e="";d=m.closest("li").querySelector(".woodmart-nav-link");e=(null!==d.querySelector("span")?d.querySelector("span"):d).textContent,!u.includes(e)&&0<e.length&&(a.textContent=woodmart_settings.mobile_navigation_drilldown_back_to.replace("%s",e))}n&&(this.querySelector("ul.wd-active").style.height=w.offsetHeight+"px")}(c||i)&&(e.preventDefault(),m=(t=(c||i).closest(".menu-item")).closest("ul"),w=(o=Array.from(t.children)).find(function(e){return e.classList.contains("wd-sub-menu")||e.classList.contains("sub-sub-menu")}),t.setAttribute("aria-expanded",!1),t.classList.contains("item-level-0")||m.classList.add("wd-drilldown-show"),m.classList.remove("wd-drilldown-hide"),w.classList.remove("wd-drilldown-show"),w.setAttribute("aria-expanded",!0),n)&&(t.classList.contains("item-level-0")?this.querySelector("ul.wd-active").style.height=v:this.querySelector("ul.wd-active").style.height=m.offsetHeight+"px")}}),window.addEventListener("wdEventStarted",function(){document.querySelectorAll(".wd-header-mobile-nav > a").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),o.classList.contains("wd-opened")?woodmartThemeModule.closeMobileNavigation():(t.parentNode.classList.add("wd-opened"),n&&o.classList.add("wd-opened"),n&&n.classList.add("wd-close-side-opened"),woodmartThemeModule.$document.trigger("wood-images-loaded"))})})})),n&&(n.addEventListener("click",function(e){e.preventDefault(),woodmartThemeModule.closeMobileNavigation()}),n.addEventListener("touchstart",function(){woodmartThemeModule.closeMobileNavigation()},{passive:!1})),i&&i.addEventListener("click",function(e){e.preventDefault(),woodmartThemeModule.closeMobileNavigation()})},woodmartThemeModule.closeMobileNavigation=function(){var e=document.querySelector(".wd-header-mobile-nav"),t=document.querySelector(".mobile-nav"),o=document.querySelector(".wd-close-side"),n=document.querySelector(".mobile-nav .searchform input[type=text]");e&&e.classList.remove("wd-opened"),t&&t.classList.remove("wd-opened"),o&&o.classList.remove("wd-close-side-opened"),n&&n.blur()},window.addEventListener("load",function(){woodmartThemeModule.mobileNavigation()});