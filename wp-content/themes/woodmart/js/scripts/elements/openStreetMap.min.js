!function(n){n.each(["frontend/element_ready/wd_open_street_map.default"],function(e,t){woodmartThemeModule.wdElementorAddAction(t,function(){woodmartThemeModule.wdOpenStreetMap()})}),woodmartThemeModule.wdOpenStreetMap=function(){if("undefined"!=typeof leaflet){const o=function(t,a){var e,r,t=t.attr("id"),o=a.hasOwnProperty("center")?a.center:null,i=a.hasOwnProperty("markers")?a.markers:[],t=(void 0!==L.DomUtil.get(t)&&L.DomUtil.get(t)&&(L.DomUtil.get(t)._leaflet_id=null),L.map(t,{scrollWheelZoom:a.hasOwnProperty("scrollWheelZoom")&&"yes"===a.scrollWheelZoom,zoomControl:a.hasOwnProperty("zoomControl")&&"yes"===a.zoomControl,dragging:a.hasOwnProperty("dragging")&&"yes"===a.dragging}));if(o&&t.setView(o.split(","),a.zoom),a.hasOwnProperty("geoapify_tile")&&"osm-carto"!==a.geoapify_tile&&("custom-tile"!==a.geoapify_tile||a.hasOwnProperty("geoapify_custom_tile")&&0!==a.geoapify_custom_tile.length)){if("stamen-toner"===a.geoapify_tile)L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',maxZoom:18}).addTo(t);else if("stamen-terrain"===a.geoapify_tile)L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',maxZoom:18}).addTo(t);else if("stamen-watercolor"===a.geoapify_tile)L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.',maxZoom:18}).addTo(t);else if("custom-tile"===a.geoapify_tile&&a.hasOwnProperty("geoapify_custom_tile")&&0!==a.geoapify_custom_tile.length){let e=a.geoapify_custom_tile;e=e.replaceAll("$",""),L.tileLayer(e,{attribution:`<a href="${a.osm_custom_attribution_url||null}" target="_blank"> ${a.osm_custom_attribution||null} </a> | Â© OpenStreetMap <a href="https://www.openstreetmap.org/copyright" target="_blank">contributors</a>`,maxZoom:18}).addTo(t)}}else L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}).addTo(t);(o=i)&&0<o.filter(function(e){return!isNaN(e.lat)&&!isNaN(e.lng)}).length||(i.push({lat:o=51.50735,lng:e=-.12776,marker:{button_text:"",button_url:"",marker_coords:{lat:o,lng:e},marker_description:"",marker_title:"",show_button:"no"}}),t.setView([o,e],a.zoom)),n.each(i,function(){var t=this.marker;if(t.hasOwnProperty("image")&&t.hasOwnProperty("image_size")&&(t.image.hasOwnProperty("url")&&0<t.image.url.length||"string"==typeof t.image&&0<t.image.length)){let e=null;t.image.hasOwnProperty("url")&&0<t.image.url.length?e=t.image.url:"string"==typeof t.image&&0<t.image.length&&(e=t.image),t.markerOptions={icon:L.icon({iconUrl:e,iconSize:t.image_size})}}else t.markerOptions={icon:L.icon({iconUrl:a.hasOwnProperty("iconUrl")?a.iconUrl:null,iconSize:a.hasOwnProperty("iconSize")?a.iconSize:[25,41]})}}),r=t,n.each(i,function(){var e=this.marker,e=e.hasOwnProperty("markerOptions")?e.markerOptions:{},t=L.marker([this.lat,this.lng],e);t.addTo(r);let a='<div class="marker-tooltip">';if(this.marker.marker_title&&(a+=`<div class="marker-title"><h5 class="title">${this.marker.marker_title}</h5></div>`),a+='<div class="marker-content">',this.marker.marker_description&&(a+=`<div class="marker-description">${this.marker.marker_description}</div>`),"yes"===this.marker.show_button&&this.marker.button_text&&(e=this.marker.hasOwnProperty("button_url_target")&&this.marker.button_url_target?this.marker.button_url_target:"_blank",a+=`<div class="marker-button">
                                                <a class="btn btn-color-primary btn-style-link" target="${e}" href='${this.marker.button_url}' role="button">
                                                   ${this.marker.button_text}
                                                </a>
                                            </div>`),a+="</div></div>",this.marker.marker_title||this.marker.marker_description||this.marker.button_text&&this.marker.show_button)switch(this.marker.hasOwnProperty("marker_behavior")?this.marker.marker_behavior:null){case"popup":t.bindPopup(a);break;case"static_close_on":t.bindPopup(a,{closeOnClick:!1,autoClose:!1,closeOnEscapeKey:!1}).openPopup();break;case"static_close_off":t.bindPopup(a,{closeOnClick:!1,autoClose:!1,closeButton:!1,closeOnEscapeKey:!1}).openPopup();break;case"tooltip":t.bindTooltip(a,{})}}),setTimeout(function(){r.invalidateSize()},100)};n(".wd-osm-map-container").each(function(){let t=n(this),a=t.find(".wd-osm-map-wrapper"),r=a.data("settings");r&&(0<t.closest(".wd-popup").length&&!t.hasClass("wd-map-inited")?woodmartThemeModule.$document.on("wdOpenPopup",function(){t.hasClass("wd-map-inited")||(t.addClass("wd-map-inited"),o(a,r))}):r.hasOwnProperty("init_type")&&"button"===r.init_type?t.find(".wd-init-map").on("click",function(e){e.preventDefault(),t.hasClass("wd-map-inited")||(t.addClass("wd-map-inited"),o(a,r))}):r.hasOwnProperty("init_type")&&"scroll"===r.init_type?woodmartThemeModule.$window.on("scroll",function(){r.hasOwnProperty("init_offset")&&window.innerHeight+woodmartThemeModule.$window.scrollTop()+parseInt(r.init_offset)>t.offset().top&&(t.hasClass("wd-map-inited")||(t.addClass("wd-map-inited"),o(a,r)))}):r.hasOwnProperty("init_type")&&"interaction"===r.init_type?window.addEventListener("wdEventStarted",function(){t.hasClass("wd-map-inited")||(t.addClass("wd-map-inited"),o(a,r))}):o(a,r))})}},n(document).ready(function(){woodmartThemeModule.wdOpenStreetMap()})}(jQuery);