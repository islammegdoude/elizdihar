!function(c){woodmartThemeModule.$document.on("wdProductsTabsLoaded wdSearchFullScreenContentLoaded wdUpdateWishlist wdRecentlyViewedProductLoaded wdShopPageInit",function(){woodmartThemeModule.productsLoadMore()}),c.each(["frontend/element_ready/wd_products.default","frontend/element_ready/wd_products_tabs.default","frontend/element_ready/wd_archive_products.default"],function(o,e){woodmartThemeModule.wdElementorAddAction(e,function(){woodmartThemeModule.productsLoadMore()})}),woodmartThemeModule.productsLoadMore=function(){var i,u=!1,m=(c(".wd-products-element").each(function(){var o,e,d,t,a=c(this),n=[],r=a.find(".wd-products"),s=a.find(".wd-ajax-arrows");function l(){t=woodmartThemeModule.$window.height()/2,e=woodmartThemeModule.$window.scrollTop(),t=a.offset().top-t,d=o.outerHeight(),d=a.height()-d,d=t+d,e<t||d<e?s.removeClass("wd-shown"):s.addClass("wd-shown")}s.hasClass("wd-pos-sep")&&(o=s.find(".wd-btn-arrow.wd-prev"),woodmartThemeModule.$window.on("scroll",function(){l()}),setTimeout(function(){l()},500)),r.hasClass("pagination-arrows")&&(n[parseInt(r.data("paged"))]={items:r.html(),status:"have-posts"},a.find(".wd-ajax-arrows .wd-btn-arrow.wd-prev, .wd-ajax-arrows .wd-btn-arrow.wd-next").on("click",function(o){o.preventDefault();o=c(this);if(!u&&!o.hasClass("wd-disabled")){u=!0,clearInterval(i);var t=o.parent().prev(),a=o.parent().find(".wd-btn-arrow.wd-next"),r=o.parent().find(".wd-btn-arrow.wd-prev"),e=t.data("atts"),d=woodmart_settings.ajaxurl,s=t.attr("data-paged");if(s++,o.hasClass("wd-prev")){if(s<2)return;s-=2}m("arrows",e,d,"woodmart_get_products_shortcode","json","POST",s,t,o,n,function(o){var e,d=t.hasClass("products-bordered-grid")||t.hasClass("products-bordered-grid-ins");t.siblings(".wd-sticky-loader").removeClass("wd-loading"),d||t.addClass("wd-animated-products"),o.items.length&&(t.html(o.items).attr("data-paged",s),t.imagesLoaded().progress(function(){t.parent().trigger("recalc")}),woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$document.trigger("wdArrowsLoadProducts")),woodmartThemeModule.$window.width()<768&&c("html, body").stop().animate({scrollTop:t.offset().top-150},400),d||(e=0,i=setInterval(function(){t.find(".wd-product").eq(e).addClass("wd-animated"),e++},100)),1<s?r.removeClass("wd-disabled"):r.addClass("wd-disabled"),"no-more-posts"===o.status?a.addClass("wd-disabled"):a.removeClass("wd-disabled")})}}))}),woodmartThemeModule.clickOnScrollButton(woodmartThemeModule.shopLoadMoreBtn,!1,woodmart_settings.infinit_scroll_offset),woodmartThemeModule.$document.off("click",".wd-products-load-more").on("click",".wd-products-load-more",function(o){var e,d,t,a,r,s,n;o.preventDefault(),u||(u=!0,e=c(this),d=e.parents(".wd-products-element").find(".wd-products"),o="woodmart_get_products_"+(t=d.data("source")),a=woodmart_settings.ajaxurl,r="POST",s=d.data("atts"),n=d.data("paged"),n++,"main_loop"===t&&(a=c(this).attr("href"),r="GET"),m("load-more",s,a,o,"json",r,n,d,e,[],function(o){o.items.length&&(d.hasClass("grid-masonry")?l(d,o.items):d.append(o.items),"no-more-posts"!==o.status&&d.imagesLoaded().progress(function(){woodmartThemeModule.clickOnScrollButton(woodmartThemeModule.shopLoadMoreBtn,!0,woodmart_settings.infinit_scroll_offset)}),woodmartThemeModule.$document.trigger("wood-images-loaded"),woodmartThemeModule.$document.trigger("wdLoadMoreLoadProducts"),d.data("paged",n)),"main_loop"===t&&(e.attr("href",o.nextPage),"no-more-posts"===o.status)&&e.hide().remove(),"no-more-posts"===o.status&&e.hide()}))}),function(o,e,d,t,a,r,s,n,l,i,m){var w={atts:e,paged:s,action:t,woo_ajax:1};"GET"===r&&(d=woodmartThemeModule.removeURLParameter(d,"loop"),d=woodmartThemeModule.removeURLParameter(d,"woo_ajax")),i[s]?(n.addClass("wd-loading"),setTimeout(function(){m(i[s]),n.removeClass("wd-loading"),u=!1},300)):("arrows"===o&&(n.addClass("wd-loading").parent().addClass("wd-loading"),n.siblings(".wd-sticky-loader").addClass("wd-loading")),l.addClass("loading"),"woodmart_get_products_main_loop"===t&&(w={loop:n.find(".product").last().data("loop"),woo_ajax:1,atts:e}),c.ajax({url:d,data:w,dataType:a,method:r,success:function(d){woodmartThemeModule.removeDuplicatedStylesFromHTML(d.items,function(o){var e=c(".woocommerce-result-count");d.items=o,i[s]=d,m(d),"yes"===woodmart_settings.load_more_button_page_url_opt&&"no"!==woodmart_settings.load_more_button_page_url&&d.currentPage&&(window.history.pushState("","",d.currentPage+window.location.search),c(".woocommerce-breadcrumb").replaceWith(d.breadcrumbs)),0<e.length&&d.hasOwnProperty("resultCount")&&e.replaceWith(d.resultCount)})},error:function(){console.log("ajax error")},complete:function(){"arrows"===o&&n.removeClass("wd-loading").parent().removeClass("wd-loading"),l.removeClass("loading"),u=!1}}))}),l=function(o,e){e=c(e);o.append(e).isotope("appended",e),o.imagesLoaded().progress(function(){o.isotope("layout")})}},c(document).ready(function(){woodmartThemeModule.productsLoadMore()})}(jQuery);