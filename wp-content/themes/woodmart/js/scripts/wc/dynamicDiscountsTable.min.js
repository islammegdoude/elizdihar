!function(d){d.each(["frontend/element_ready/wd_dynamic_discounts_table.default"],function(n,t){woodmartThemeModule.wdElementorAddAction(t,function(){woodmartThemeModule.renderDynamicDiscountsTable()})}),woodmartThemeModule.renderDynamicDiscountsTable=function(){var n=d(".variations_form");let a=d(".wd-dynamic-discounts"),t=a.html();function i(){d(".wd-dynamic-discounts tbody tr").each(function(){var n=d(this);let t=n.data("min");n.off("click").on("click",function(){d('.quantity input.qty[name="quantity"]').val(t).trigger("change")})})}function o(n,i){n.find("tbody tr").each(function(){var n=d(this),t=n.data("min"),a=n.data("max");!a&&t<=i||t<=i&&i<=a?n.addClass("wd-active"):n.removeClass("wd-active")})}n.each(function(){d(this).on("found_variation",function(n,t){d.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_discount_dynamic_discounts_table",variation_id:t.variation_id},beforeSend:function(){a.find(".wd-loader-overlay").addClass("wd-loading")},success:n=>{a.html(n),i(),o(d(".wd-dynamic-discounts"),d(this).find('[name="quantity"]').val()),a.find(".wd-loader-overlay").removeClass("wd-loading")},dataType:"json",method:"GET"})}).on("click",".reset_variations",function(){a.html(t),i(),o(d(".wd-dynamic-discounts"),d(this).closest("form").find('.quantity input.qty[name="quantity"]').val())})}),i(),d('.quantity input.qty[name="quantity"]').off("change").on("change",function(){o(a,d(this).val())})},d(document).ready(()=>{woodmartThemeModule.renderDynamicDiscountsTable()})}(jQuery);